(()=>{var e={};e.id=991,e.ids=[991],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},67096:e=>{"use strict";e.exports=require("bcrypt")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},10805:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(34979),t(82139),t(35866);var r=t(23191),i=t(88716),n=t(37922),a=t.n(n),o=t(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let d=["",{children:["posts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,34979)),"C:\\Users\\windows10\\Desktop\\gemin\\src\\app\\posts\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,82139)),"C:\\Users\\windows10\\Desktop\\gemin\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\windows10\\Desktop\\gemin\\src\\app\\posts\\page.tsx"],u="/posts/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/posts/page",pathname:"/posts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4750:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},44324:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,79404,23))},52495:(e,s,t)=>{Promise.resolve().then(t.bind(t,62567)),Promise.resolve().then(t.bind(t,58015))},62567:(e,s,t)=>{"use strict";t.d(s,{default:()=>n});var r=t(10326),i=t(77109);function n({children:e}){return r.jsx(i.SessionProvider,{children:e})}},58015:(e,s,t)=>{"use strict";t.d(s,{default:()=>a});var r=t(10326),i=t(90434),n=t(77109);function a(){let{data:e}=(0,n.useSession)();return r.jsx("nav",{className:"bg-gray-800 p-4",children:(0,r.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[r.jsx(i.default,{href:"/",className:"text-white text-lg font-bold",children:"홈"}),(0,r.jsxs)("ul",{className:"flex space-x-4",children:[r.jsx("li",{children:r.jsx(i.default,{href:"/posts",className:"text-gray-300 hover:text-white",children:"게시물"})}),e?(0,r.jsxs)(r.Fragment,{children:["ADMIN"===e.user.role&&r.jsx("li",{children:r.jsx(i.default,{href:"/admin/dashboard",className:"text-gray-300 hover:text-white",children:"관리자"})}),r.jsx("li",{children:r.jsx("button",{onClick:()=>(0,n.signOut)({callbackUrl:"/"}),className:"text-gray-300 hover:text-white",children:"로그아웃"})})]}):r.jsx("li",{children:r.jsx(i.default,{href:"/admin/login",className:"text-gray-300 hover:text-white",children:"로그인"})})]})]})})}},57371:(e,s,t)=>{"use strict";t.d(s,{default:()=>i.a});var r=t(670),i=t.n(r)},670:(e,s,t)=>{"use strict";let{createProxy:r}=t(68570);e.exports=r("C:\\Users\\windows10\\Desktop\\gemin\\node_modules\\next\\dist\\client\\link.js")},82139:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c,metadata:()=>d});var r=t(19510),i=t(25384),n=t.n(i);t(5023);var a=t(68570);let o=(0,a.createProxy)(String.raw`C:\Users\windows10\Desktop\gemin\src\components\AuthProvider.tsx#default`),l=(0,a.createProxy)(String.raw`C:\Users\windows10\Desktop\gemin\src\components\Navbar.tsx#default`),d={title:"Next.js CRUD App",description:"A Next.js CRUD application with authentication and authorization"};function c({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:n().className,children:(0,r.jsxs)(o,{children:[r.jsx(l,{}),e]})})})}},34979:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d,dynamic:()=>l});var r=t(19510),i=t(57371),n=t(75748),a=t(75571),o=t(95456);let l="force-dynamic";async function d(){let e=await (0,a.getServerSession)((0,o.b)()),s=await n.db.post.findMany({include:{author:{select:{name:!0}}},orderBy:{createdAt:"desc"}});return(0,r.jsxs)("div",{className:"container mx-auto p-4",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6",children:"게시물"}),e&&r.jsx("div",{className:"mb-4",children:r.jsx(i.default,{href:"/posts/new",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"새 게시물 작성"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-xl font-semibold mb-2",children:e.title}),(0,r.jsxs)("p",{className:"text-gray-700 mb-4",children:[e.content.substring(0,100),"..."]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["작성자: ",e.author.name]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["작성일: ",new Date(e.createdAt).toLocaleDateString()]}),r.jsx(i.default,{href:`/posts/${e.id}`,className:"text-blue-500 hover:underline mt-2 inline-block",children:"더 보기"})]},e.id))})]})}},95456:(e,s,t)=>{"use strict";t.d(s,{b:()=>d});var r=t(13539),i=t(53797),n=t(61653),a=t(75748),o=t(67096),l=t.n(o);function d(){return{adapter:"production"===process.env.VERCEL_ENV?void 0:(0,r.N)(a.db),session:{strategy:"jwt"},pages:{signIn:"/admin/login"},providers:[(0,i.Z)({name:"Credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)return null;let s=await a.db.user.findUnique({where:{email:e.email}});return s&&s.password&&await l().compare(e.password,s.password)?{id:`${s.id}`,email:s.email,name:s.name,role:s.role}:null}}),(0,n.Z)({clientId:process.env.KAKAO_CLIENT_ID,clientSecret:process.env.KAKAO_CLIENT_SECRET})],callbacks:{session:async({session:e,token:s})=>(s&&(e.user.id=s.id,e.user.name=s.name,e.user.email=s.email,e.user.role=s.role),e),jwt:async({token:e,user:s})=>(s&&(console.log("User object from provider:",s),e.id=s.id,e.name=s.name,e.email=s.email,e.role=s.role),e)},secret:process.env.NEXTAUTH_SECRET}}},75748:(e,s,t)=>{"use strict";t.d(s,{db:()=>i});var r=t(53524);let i=global.prisma||new r.PrismaClient({log:["query"]})},5023:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[276,502,754],()=>t(10805));module.exports=r})();